{"mappings":"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","sources":["src/table/index.ts","src/table/table.ts","src/table/libs/index.ts","src/table/libs/get-codes-sort.ts","src/table/libs/get-count-children.ts","src/table/libs/get-count-columns.ts","src/table/libs/get-max-count-children.ts","src/table/libs/get-thead-config.ts","src/table/libs/get-color-columns.ts"],"sourcesContent":["export {Table as default} from './table';\n","import './style.scss'\nimport { debounce } from 'lodash';\nimport type { TData, TTheadData, TTable } from './type'\nimport {\n    getCountColumns,\n    getMaxCountChildren,\n    getTheadConfig,\n    getCountChildren,\n    getCodesSort,\n    getColorColumns,\n} from './libs'\n\nconst COLOR_CLASSES = ['green', 'blue', 'red', 'yellow', 'orange']\n\nexport class Table {\n    maxLevelColumns: number;\n    maxLevelData: number;\n    countColumns: number;\n    colorColumns: Record<number, TData['color']>;\n    table: HTMLTableElement;\n    thead: HTMLTableSectionElement;\n    tbody: HTMLTableSectionElement;\n    theadData: TTheadData;\n    root: HTMLElement;\n    codes: string[];\n    data: TData[];\n\n    initialArgs: TTable\n\n    constructor(args: TTable) {\n\n        this.initialArgs = args;\n        this.init();\n\n        this.updateResize();\n    }\n\n    updateResize() {\n        window.addEventListener('resize', debounce(() => this.init(), 300));\n    }\n\n    init() {\n        const { columns, root, maxHeight, fullHeight, data, headerColor } = this.initialArgs;\n\n        this.root = root;\n        this.data = data;\n        this.maxLevelColumns = getMaxCountChildren(columns);\n        this.maxLevelData = getMaxCountChildren(this.data, 1);\n        this.theadData = getTheadConfig(columns, this.maxLevelColumns);\n        this.countColumns = getCountColumns(this.theadData);\n        this.codes = getCodesSort(columns);\n        this.colorColumns = getColorColumns(columns);\n\n        this.createTable(maxHeight, fullHeight);\n\n        setTimeout(() => {\n            this.renderThead(headerColor);\n        }, 10)\n        setTimeout(() => {\n            this.renderTbody();\n        }, 20)\n\n        setTimeout(() => {\n            this.fixedColumns();\n        }, 200)\n    }\n\n    createTable(maxHeight: number = 600, fullHeight: boolean) {\n        this.table = document.createElement('table');\n        this.table.setAttribute('cellspacing', '0');\n        this.table.setAttribute('class', 'big-table');\n        this.root.classList.add('big-table-wrap');\n        this.root.innerHTML = '';\n        if (fullHeight) {\n            const top = this.root.getBoundingClientRect()?.top;\n            this.root.style.maxHeight = `${window.innerHeight - top}px`;\n        } else {\n            this.root.style.maxHeight = `${maxHeight}px`;\n        }\n        this.root.append(this.table);\n    }\n\n    renderThead(headerColor: TData['color']) {\n        this.thead = document.createElement('thead');\n\n        this.setColor(this.thead, headerColor);\n\n        this.theadData.forEach((columns) => {\n            const tr = document.createElement('tr');\n            let countColumn = 0;\n            columns.forEach(({ title, colspan, rowspan, color, className }) => {\n                const td = document.createElement('td');\n                td.innerHTML = title;\n                this.setColor(td, color);\n\n                if (className && className.length) {\n                    className.forEach((ch) => {\n                        td.classList.add(ch)\n                    })\n                }\n\n                countColumn += colspan || 1;\n                if (countColumn === this.countColumns) {\n                    td.classList.add('no-border')\n                }\n\n                if (colspan) {\n                    td.setAttribute('colspan', colspan.toString())\n                }\n\n                if (rowspan) {\n                    td.setAttribute('rowspan', rowspan.toString())\n                }\n\n                tr.append(td);\n            })\n            this.thead.append(tr);\n        });\n\n        this.table.append(this.thead);\n    }\n\n    renderTbody() {\n        this.tbody = document.createElement('tbody');\n        this.renderTbodyRow(this.data);\n        this.table.append(this.tbody);\n    }\n\n    renderTbodyRow(\n        data: TData[],\n        curColumn = 0,\n        prevTr?: HTMLTableRowElement,\n        numberCell = 0,\n        parentCells: HTMLTableCellElement[] = [],\n    ) {\n        data.forEach((item, index) => {\n            const { title, children, values, color, bold, align = 'left', className } = item;\n            const tr = prevTr && index === 0 ? prevTr : document.createElement('tr');\n            this.handlersRows(tr, parentCells);\n\n            if (bold) {\n                tr.classList.add('bold')\n            }\n\n            if (className) {\n                tr.classList.add(className)\n            }\n\n            this.setColor(tr, color)\n\n            const td = document.createElement('td');\n            this.setColor(td, color || this.colorColumns[numberCell]);\n            td.innerHTML = title;\n            td.classList.add(`align-${align}`);\n\n            if (children) {\n                td.setAttribute('rowspan', getCountChildren(children).toString());\n                tr.append(td);\n\n                if (!prevTr || index > 0) {\n                    this.tbody.append(tr);\n                }\n\n                this.renderTbodyRow(children.map(item => ({\n                    ...item,\n                    color: color || item.color,\n                    bold: bold || item.bold,\n                })), curColumn + 1, tr, numberCell + 1, [...parentCells, td]);\n            } else if (values) {\n                const tail = this.maxLevelData - curColumn;\n\n                td.setAttribute('colspan', (tail).toString());\n                if (title) {\n                    tr.append(td);\n                }\n\n                this.renderValues(tr, values, color);\n\n                this.tbody.append(tr);\n            } else {\n                this.renderRowDivider(tr, item, curColumn);\n            }\n        })\n    }\n\n    renderRowDivider(tr: HTMLTableRowElement, item: TData, curColumn: number) {\n        const { sticky = true, color, title, align, bold } = item\n        const tail = this.countColumns - curColumn;\n\n        const td = document.createElement('td');\n        td.setAttribute('colspan', (tail).toString());\n        td.classList.add('row-divider');\n        td.style.top = `${this.thead.offsetHeight}px`;\n        if (!sticky) {\n            td.classList.add('row-divider_no-sticky');\n        }\n\n        if (align) {\n            td.classList.add(`align-${align}`);\n        }\n        this.setColor(td, color)\n\n        const wrap = document.createElement('div');\n        wrap.innerHTML = title;\n        wrap.style.width = `${this.root.offsetWidth - 30}px`;\n        wrap.style.left = `5px`;\n        wrap.setAttribute('class', 'sticky-row-wrap')\n        td.append(wrap)\n        tr.append(td);\n\n        this.tbody.append(tr);\n    }\n\n    setColor(el: HTMLElement, color: TData['color']) {\n        if (color) {\n            if (COLOR_CLASSES.indexOf(color) >= 0) {\n                el.classList.add(color);\n            } else {\n                el.style.backgroundColor = color\n            }\n        }\n    }\n\n    renderValues(tr: HTMLTableRowElement, values: TData['values'], colorRow: TData['color']) {\n        this.codes.forEach((code, index) => {\n            const td = document.createElement('td');\n\n            const className = `data-code-${code}`;\n            td.classList.add(className);\n            this.handlersColumns(td, className);\n            this.setColor(td, colorRow || this.colorColumns[this.maxLevelData + index]);\n            const value = values[code];\n            if (Array.isArray(value)) {\n                const subTable = document.createElement('table');\n                const subTbody = document.createElement('tbody');\n                value.forEach((val) => {\n                    const subTr = document.createElement('tr');\n                    const subTd = document.createElement('td');\n                    subTd.innerHTML = val.toString();\n\n                    subTr.append(subTd);\n                    subTbody.append(subTr);\n                });\n                td.classList.add('with-sub-table')\n\n                subTable.append(subTbody);\n                td.append(subTable);\n            } else if (value) {\n                td.innerHTML = value.toString();\n            }\n            tr.append(td);\n        })\n    }\n\n    fixedColumns() {\n        const thead: HTMLTableRowElement[] = Array.prototype.slice.call(this.thead.children);\n        this.fixedColumnsRows(thead);\n        const tbody: HTMLTableRowElement[] = Array.prototype.slice.call(this.tbody.children);\n        this.fixedColumnsRows(tbody);\n    }\n\n    fixedColumnsRows(rows: HTMLTableRowElement[]) {\n\n        let offsetLeft: [number, number][] = []\n\n        rows.forEach((tr, index) => {\n            const columns: HTMLTableCellElement[] = Array.prototype.slice.call(tr.children);\n\n            if (columns.length > 1) {\n                offsetLeft = offsetLeft.filter((item) => item[0] > index);\n                const countTopRow = offsetLeft.length;\n\n                let curLeft = offsetLeft.reduce((acc, [i, left]) => acc + left, 0);\n\n                for (let i = 0; i < this.maxLevelData - countTopRow; i++) {\n                    const cell = columns[i];\n                    const cellWidth = cell.offsetWidth;\n                    const cellColspan = Number(cell.getAttribute('colspan'));\n                    cell.classList.add('fixed-column')\n                    cell.style.left = `${curLeft}px`;\n                    curLeft += cell.offsetWidth;\n\n                    if (cellColspan) {\n                        i += cellColspan;\n                    }\n\n                    // -1 не учитываем текущую строку\n                    const cellRowspan = Number(cell.getAttribute('rowspan'));\n                    if (cellRowspan > 1) {\n                        offsetLeft.push([index + cellRowspan, cellWidth]);\n                    }\n                }\n            }\n        })\n    }\n\n    handlersRows(tr: HTMLTableRowElement, elements: HTMLTableCellElement[]) {\n        tr.addEventListener('mouseenter', () => {\n            elements.forEach(el => {\n                el.classList.add('hovered')\n            })\n        })\n        tr.addEventListener('mouseleave', () => {\n            elements.forEach(el => {\n                el.classList.remove('hovered')\n            })\n        })\n    }\n\n    handlersColumns(td: HTMLTableCellElement, className: string) {\n        td.addEventListener('mouseenter', () => {\n            const cells = document.getElementsByClassName(className);\n\n            Array.prototype.slice.call(cells).forEach((el) => {\n                el.classList.add('hovered');\n            })\n        })\n        td.addEventListener('mouseleave', () => {\n            const cells = document.getElementsByClassName(className);\n\n            Array.prototype.slice.call(cells).forEach((el) => {\n                el.classList.remove('hovered');\n            })\n        })\n    }\n}\n","export { getCodesSort } from './get-codes-sort'\nexport { getCountChildren } from './get-count-children';\nexport { getCountColumns } from './get-count-columns';\nexport { getMaxCountChildren } from './get-max-count-children';\nexport { getTheadConfig } from './get-thead-config';\nexport { getColorColumns } from './get-color-columns'","import type { TColumn } from '../type'\n\nexport function getCodesSort(columns: TColumn[], codes = []) {\n    columns.forEach(({children, code}) => {\n        if (code) {\n            codes.push(code);\n        }\n        if (children) {\n            getCodesSort(children, codes)\n        }\n    })\n\n    return codes;\n}","import type { TData } from '../type'\n\nexport function getCountChildren(rows:TData[]){\n    return rows.reduce((acc, {children}) => children ? acc + getCountChildren(children) : acc + 1, 0)\n}","import type { TTheadData } from '../type'\n\nexport function getCountColumns(theadData: TTheadData) {\n    return theadData[0].reduce((acc, item) => item.colspan ? item.colspan + acc : acc + 1, 0);\n}","type TData = {\n    children?: TData[];\n    title?: string;\n    [key: string]: unknown;\n}\n\nexport function getMaxCountChildren(columns: TData[], level = 0){\n    const levels = columns.map(({children, title}) =>  {\n        if (!title) {\n            return level - 1;\n        }\n        return children && title ? getMaxCountChildren(children, level + 1) : level\n    });\n    return Math.max(...levels);\n}","import type { TColumn, TTheadData, THeadCell } from '../type';\n\nexport function getTheadConfig(columns: TColumn[], maxLevel, level = 0, rows: TTheadData = []){\n    const row: THeadCell[] = [];\n    let childRows = [];\n\n    columns.forEach(({title, children, color, className: ch, code}) => {\n        const className: string[] = []\n        if (ch) {\n            className.push(ch)\n        }\n        if (code) {\n            className.push(`data-code-${code}`)\n        }\n\n        if (children) {\n            const childrenClassNames =  getChildrenClassNamesCodes(children);\n\n            row.push({\n                title,\n                color,\n                className: [...className, ...childrenClassNames],\n                colspan: getCountChildren(children),\n            })\n            childRows = [...childRows, ...children.map((item) => ({...item, color: item.color || color}))];\n        } else {\n            const cell: THeadCell = {title, color, className};\n            if (maxLevel - level > 0) {\n                cell.rowspan = maxLevel - level + 1;\n            }\n            row.push(cell);\n        }\n    });\n    rows.push(row);\n\n    if (childRows.length) {\n        getTheadConfig(childRows, maxLevel, level + 1, rows);\n    }\n\n    return rows;\n}\n\nfunction getCountChildren(items: TColumn[]){\n    let count = items.length;\n\n    items.forEach(({ children }) => {\n        if (children) {\n            count--;\n            count += getCountChildren(children);\n        }\n    });\n\n    return count;\n}\n\nfunction getChildrenClassNamesCodes(items: TColumn[]){\n    let className = [];\n\n    items.forEach(({ children, code }) => {\n        if (code) {\n            className.push(`data-code-${code}`)\n        }\n        if (children) {\n            const childrenClassNames =  getChildrenClassNamesCodes(children);\n\n            className = [...className, ...childrenClassNames];\n        }\n    });\n\n    return className;\n}","import type { TColumn } from '../type'\nimport { getCountChildren } from './get-count-children'\n\nexport function getColorColumns(\n    columns: TColumn[],\n    colorColumns: Record<number, TColumn['color']> = {},\n    globalIndex = 0,\n    parentColor?: TColumn['color']\n) {\n\n    let localIndex = globalIndex;\n\n    columns.forEach(({color, children}) => {\n        if ((color || parentColor) && !children) {\n            colorColumns[localIndex] = color || parentColor;\n        }\n\n        if (children) {\n            getColorColumns(children, colorColumns, localIndex, color || parentColor);\n\n            localIndex += getCountChildren(children);\n        } else {\n            localIndex++\n        }\n    })\n\n    return colorColumns;\n}"],"names":[],"version":3,"file":"module.js.map"}